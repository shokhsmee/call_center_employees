<?xml version="1.0" encoding="UTF-8"?>
<odoo>

  <!-- Root + asosiy actions (sizdagi mavjudlari) -->
  <menuitem id="menu_cc_root" name="Hodimlar" sequence="10"
            web_icon="call_center_employees,static/icon.png"/>

  <record id="action_cc_employee" model="ir.actions.act_window">
    <field name="name">Hodimlar</field>
    <field name="res_model">cc.employee</field>
    <field name="view_mode">list,form</field>
    <field name="views" eval="[
      (ref('call_center_employees.view_cc_employee_list'), 'list'),
      (ref('call_center_employees.view_cc_employee_form'), 'form')
    ]"/>
  </record>

  <menuitem id="menu_cc_employee" parent="menu_cc_root" name="Hodimlar"
            action="call_center_employees.action_cc_employee" sequence="10"/>

  <record id="action_cc_region" model="ir.actions.act_window">
    <field name="name">Hududlar (Tuman)</field>
    <field name="res_model">cc.region</field>
    <field name="view_mode">list,form</field>
    <field name="search_view_id" ref="call_center_employees.view_cc_region_search"/>
  </record>

  <menuitem id="menu_cc_region" parent="menu_cc_root" name="Hududlar (Tuman)"
            action="call_center_employees.action_cc_region" sequence="20"/>

  <!-- === YANGI: USTALAR va SOTUV MENYULARI === -->

  <!-- Ustalar: faqat is_usta = True -->
  <record id="action_cc_employee_usta" model="ir.actions.act_window">
    <field name="name">Ustalar</field>
    <field name="res_model">cc.employee</field>
    <field name="view_mode">list,form</field>
    <!-- domen bilan qat’iy filtrlash -->
    <field name="domain">[('is_usta','=',True)]</field>
    <!-- search view’dagi “Faol” filterini default yoqib beramiz (ixtiyoriy) -->
    <field name="context">{'search_default_flt_active': 1, 'search_default_flt_usta': 1}</field>
    <field name="views" eval="[
      (ref('call_center_employees.view_cc_employee_list'), 'list'),
      (ref('call_center_employees.view_cc_employee_form'), 'form')
    ]"/>
  </record>

  <menuitem id="menu_cc_employee_usta"
            parent="menu_cc_root"
            name="Ustalar"
            action="call_center_employees.action_cc_employee_usta"
            sequence="11"/>

  <!-- Sotuv managerlar: is_usta = False -->
  <record id="action_cc_employee_office" model="ir.actions.act_window">
    <field name="name">Sotuv managerlar</field>
    <field name="res_model">cc.employee</field>
    <field name="view_mode">list,form</field>
    <field name="domain">[('is_usta','=',False)]</field>
    <field name="context">{'search_default_flt_active': 1, 'search_default_flt_office': 1}</field>
    <field name="views" eval="[
      (ref('call_center_employees.view_cc_employee_list'), 'list'),
      (ref('call_center_employees.view_cc_employee_form'), 'form')
    ]"/>
  </record>

  <menuitem id="menu_cc_employee_office"
            parent="menu_cc_root"
            name="Sotuv managerlar"
            action="call_center_employees.action_cc_employee_office"
            sequence="12"/>

</odoo>
